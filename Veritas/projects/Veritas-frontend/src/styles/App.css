@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap');

/* ── Design Tokens ────────────────────────────────────────────────────── */
@layer base {
  :root {
    --bg:        9 9 11;
    --bg-card:   24 24 27;
    --bg-raised: 39 39 42;
    --text:      250 250 250;
    --text-sub:  161 161 170;
    --text-muted:113 113 122;
    --text-faint: 63 63 70;
    --border:    39 39 42;
    --border-sub:30 30 33;
    --accent:    59 130 246;
    --accent-dim:37 99 235;
    --success:   34 197 94;
    --danger:    239 68 68;
    --warning:   245 158 11;
    --radius:    12px;
  }
}

@layer base {
  * { box-sizing: border-box; }
  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    background-color: rgb(var(--bg));
    color: rgb(var(--text));
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden;
    line-height: 1.6;
  }
  ::selection {
    background: rgb(var(--accent) / 0.25);
  }
}

/* ── Animations (subtle only) ─────────────────────────────────────────── */
@keyframes fade-in {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes pulse-dot {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}
@keyframes flow-right {
  from { stroke-dashoffset: 7; }
  to   { stroke-dashoffset: 0; }
}
@keyframes flow-down {
  from { stroke-dashoffset: 7; }
  to   { stroke-dashoffset: 0; }
}
@keyframes bar-rise {
  from { transform: scaleY(0); opacity: 0; }
  to   { transform: scaleY(1); opacity: 0.9; }
}
@keyframes bit-pop {
  0%   { transform: scale(0.4); opacity: 0; }
  65%  { transform: scale(1.12); }
  100% { transform: scale(1);   opacity: 1; }
}
@keyframes scan {
  0%   { left: -6px; opacity: 0; }
  6%   { opacity: 1; }
  94%  { opacity: 1; }
  100% { left: calc(100% + 6px); opacity: 0; }
}
@keyframes spin {
  from { transform: rotate(0deg); }
  to   { transform: rotate(360deg); }
}

/* ── Component Styles ─────────────────────────────────────────────────── */
@layer components {

  /* Card */
  .card {
    background: rgb(var(--bg-card));
    border: 1px solid rgb(var(--border));
    border-radius: var(--radius);
    transition: border-color 0.2s ease;
  }
  .card:hover {
    border-color: rgb(var(--text-faint));
  }

  /* Buttons */
  .btn-primary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-weight: 500;
    font-size: 0.875rem;
    padding: 0.625rem 1.25rem;
    border-radius: 10px;
    background: rgb(var(--accent));
    color: #fff;
    transition: all 0.15s ease;
    border: none;
    cursor: pointer;
  }
  .btn-primary:hover { background: rgb(var(--accent-dim)); }
  .btn-primary:disabled { opacity: 0.35; cursor: not-allowed; }

  .btn-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-weight: 500;
    font-size: 0.875rem;
    padding: 0.625rem 1.25rem;
    border-radius: 10px;
    background: transparent;
    color: rgb(var(--text));
    border: 1px solid rgb(var(--border));
    transition: all 0.15s ease;
    cursor: pointer;
  }
  .btn-secondary:hover {
    background: rgb(var(--bg-raised) / 0.5);
    border-color: rgb(var(--text-faint));
  }

  .btn-wallet {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.5rem 0.875rem;
    border-radius: 10px;
    background: rgb(var(--bg-card));
    color: rgb(var(--text-sub));
    border: 1px solid rgb(var(--border));
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.15s ease;
    cursor: pointer;
  }
  .btn-wallet:hover {
    border-color: rgb(var(--text-faint));
    color: rgb(var(--text));
  }

  /* Upload zone */
  .upload-zone {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius);
    border: 1.5px dashed rgb(var(--border));
    background: transparent;
    cursor: pointer;
    transition: all 0.2s ease;
  }
  .upload-zone:hover {
    border-color: rgb(var(--text-faint));
    background: rgb(var(--bg-card) / 0.5);
  }
  .upload-zone-active {
    border-color: rgb(var(--accent)) !important;
    border-style: solid !important;
    background: rgb(var(--accent) / 0.04) !important;
  }

  /* Alerts */
  .alert {
    padding: 0.75rem 1rem;
    border-radius: 10px;
    border: 1px solid;
    font-size: 0.8125rem;
    line-height: 1.5;
    animation: fade-in 0.2s ease;
  }
  .alert-info     { background: rgb(var(--accent) / 0.06);  border-color: rgb(var(--accent) / 0.15);  color: rgb(147 197 253); }
  .alert-success  { background: rgb(var(--success) / 0.06); border-color: rgb(var(--success) / 0.15); color: rgb(134 239 172); }
  .alert-danger   { background: rgb(var(--danger) / 0.06);  border-color: rgb(var(--danger) / 0.15);  color: rgb(252 165 165); }
  .alert-warning  { background: rgb(var(--warning) / 0.06); border-color: rgb(var(--warning) / 0.15); color: rgb(253 224 71); }

  /* Tabs */
  .tab {
    padding: 0.625rem 1rem;
    font-size: 0.8125rem;
    font-weight: 500;
    color: rgb(var(--text-muted));
    border-bottom: 2px solid transparent;
    transition: color 0.15s ease, border-color 0.15s ease;
    cursor: pointer;
    background: none;
    border-top: none; border-left: none; border-right: none;
  }
  .tab:hover { color: rgb(var(--text-sub)); }
  .tab-active {
    color: rgb(var(--text)) !important;
    border-bottom-color: rgb(var(--text)) !important;
  }

  /* Step number */
  .step-num {
    width: 1.75rem; height: 1.75rem;
    border-radius: 8px;
    display: flex; align-items: center; justify-content: center;
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.6875rem; font-weight: 600;
    background: rgb(var(--bg-raised));
    color: rgb(var(--text-sub));
    border: 1px solid rgb(var(--border));
    flex-shrink: 0;
  }

  /* Code block */
  .code {
    font-family: 'JetBrains Mono', monospace;
    font-size: 0.75rem;
    background: rgb(var(--bg));
    border: 1px solid rgb(var(--border-sub));
    border-radius: 8px;
    padding: 0.5rem 0.75rem;
  }

  /* Flow arrow */
  .flow-arrow {
    display: flex; align-items: center; justify-content: center;
    color: rgb(var(--text-faint));
    font-size: 0.75rem;
    flex-shrink: 0;
  }

  /* Stagger */
  .stagger-1 { animation: fade-in 0.3s ease 0.03s both; }
  .stagger-2 { animation: fade-in 0.3s ease 0.06s both; }
  .stagger-3 { animation: fade-in 0.3s ease 0.09s both; }
  .stagger-4 { animation: fade-in 0.3s ease 0.12s both; }

  /* Dot */
  .dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }
  .dot-pulse { animation: pulse-dot 1.6s ease-in-out infinite; }

  /* Mono */
  .mono { font-family: 'JetBrains Mono', monospace; }

  /* Hide scrollbar for tab overflow on mobile */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}
